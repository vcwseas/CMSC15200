/* graded lab2 */

/* ====== Makefile ====== */

evidence:
	gcc -Wall -o evidence_expt expt.c evidence_expt.c

raise:
	gcc -Wall -o raise expt.c raise.c

/* ====== expt.h ====== */

/* expt : int (unsigned int) -> (long int) */
/* linear time recursive exponentiation */
long int expt(int a, unsigned int n);

/* ss : int (unsigned int) -> (long int) */
/* exponentiation by successive squaring */
long int ss(int a, unsigned int n);

/* ssm : int (unsigned int) (unsigned int) -> int */
/* exponentiation modulo m by successive squaring */
int ssm(int a, unsigned int n, unsigned int m);

/* ====== expt.c ====== */

/* Victor Cheung, vcheung */
/* CS152, Winter 2014 */
/* Lab 1 */
#include <stdio.h>
#include "expt.h"

long int expt(int a, unsigned int n)
{
	if (n == 0)
		return 1;
	else if (n == 1)
		return a;
	else return a * expt(a, n - 1);
}

long int ss(int a, unsigned int n)
{
	if (n == 0)
		return 1;

	else if (n % 2 == 0)
	{
		long int temp = ss(a, n/2);
		return temp * temp;
	}
	else
		return a * ss(a, n - 1);
}


int ssm(int a, unsigned int n, unsigned int m)
{
	if (n == 0)
		return 1;
	else if (n % 2 == 0)
	{
		long int temp = ss(a, n/2);
		return (temp * temp) % m;
	}
	else
		return a * ss(a, n - 1) % m;
}
#GRADER: You werenâ€™t supposed to use ss() in ssm(). -4

/* ====== evidence_expt.c ====== */

#include <stdio.h>
#include "expt.h"

void evidence_expt()
{
  printf("Tests for expt\n");
  printf("Expecting 1024: %ld\n", expt(2,10));  /* 1024 */
  printf("Expecting 134217728: %ld\n", expt(8,9));   /* 134217728 */
  printf("Expecting 96059601: %ld\n", expt(99,4));  /* 96059601 */
  printf("Expecting 184528125: %ld\n", expt(45,5));  /* 184528125 */
}

void evidence_ss()
{
  printf("Tests for ss\n");
  printf("Expecting 1024: %ld\n", ss(2,10));    /* 1024 */
  printf("Expecting 134217728: %ld\n", ss(8,9));   /* 134217728 */
  printf("Expecting 96059601: %ld\n", ss(99,4));    /* 96059601 */
  printf("Expecting 184528125: %ld\n", ss(45,5));    /* 184528125 */
}

void evidence_ssm()
{
  printf("Tests for ssm\n");
  printf("Expecting 24: %d\n", ssm(2,10, 1000));  /* 24 */
  printf("Expecting 728: %d\n", ssm(8,9, 1000));   /* 728 */
  printf("Expecting 1: %d\n", ssm(99,4, 100));   /* 1 */
  printf("Expecting 8125: %d\n", ssm(45,5, 10000)); /* 8125 */
}

int main(int argc, char *argv[])
{
  evidence_expt();
  evidence_ss();
  evidence_ssm();
  return 0;
}

/* ====== raise.c ====== */

#include <stdlib.h>
#include <stdio.h>
#include "expt.h"

int main(int argc, char *argv[])
{
  int a = atoi(argv[1]);
  unsigned int n = atoi(argv[2]);
  printf("%ld\n", ss(a,n));
  return 0;
}

/* ====== evaluation ======  */

/* Makefile :         6/ 6 */
/* expt.h   :         6/ 6 */
/* expt.c   :         6/10 */
/* evidence_expt.c : 30/30 */
/* raise.c :          6/ 6 */

/* style :           10/10 */
/* svn :              4/ 4 */

/* _total-score_ :   68/72*/

/* graded by olsona */
